{"ast":null,"code":"var _jsxFileName = \"C:\\\\NCKH\\\\frontend\\\\src\\\\components\\\\Table\\\\Table.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport classNames from 'classnames/bind';\nimport styles from \"./Table.module.scss\";\nimport Input from \"../Input\";\nimport Button from \"../Button\";\nimport request from \"../../utils/request\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cx = classNames.bind(styles);\n\nconst Table = _ref => {\n  _s();\n\n  let {\n    rawData,\n    srcData = ''\n  } = _ref;\n  const [data, setData] = useState(rawData.data);\n  const [heading] = useState(rawData.heading.data);\n\n  const AppendData = () => {\n    setData(prev => {\n      if (prev.length === 0) return heading.length === 1 ? [['', '']] : [[...heading.map(() => '')]];\n      return [...prev, [...prev[0].map(() => '')]];\n    });\n  };\n\n  const HandleUpdateData = (x, y, newValue) => {\n    setData(prev => {\n      prev[x][y] = newValue;\n      return prev;\n    });\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const req = await request.get(srcData);\n      setData(req.data['data']);\n    };\n\n    if (srcData !== '') fetchData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: cx('wrapper'),\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      className: cx('table'),\n      children: [heading && /*#__PURE__*/_jsxDEV(\"thead\", {\n        className: cx('table__header'),\n        style: {\n          backgroundColor: rawData.heading.color || 'inherit'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: heading.map((h, index) => /*#__PURE__*/_jsxDEV(\"th\", {\n            colSpan: data.length === 0 ? 1 : data[0].length / heading.length,\n            children: h\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        className: cx('table__body'),\n        children: data.map((row, indexRow) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              autoSize: true,\n              className: cx('input'),\n              defaultValue: row[0],\n              onUpdate: el => HandleUpdateData(indexRow, 0, el.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 29\n          }, this), row.slice(1).map((val, indexCol) => /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              autoSize: true,\n              min: \"0\",\n              type: \"number\",\n              className: cx('input'),\n              defaultValue: val,\n              onUpdate: el => HandleUpdateData(indexRow, indexCol + 1, el.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 37\n            }, this)\n          }, indexCol, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 33\n          }, this))]\n        }, indexRow, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n        className: cx('table__footer'),\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: data.length === 0 ? heading.length : data[0].length,\n            onClick: AppendData,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              noHover: true,\n              style: {\n                width: '100%'\n              },\n              children: \"\\u2026\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Table, \"tIa/zAZ6668Fi++2v25VdRB4PF8=\");\n\n_c = Table;\nexport default Table;\n\nvar _c;\n\n$RefreshReg$(_c, \"Table\");","map":{"version":3,"names":["useState","useEffect","classNames","styles","Input","Button","request","cx","bind","Table","rawData","srcData","data","setData","heading","AppendData","prev","length","map","HandleUpdateData","x","y","newValue","fetchData","req","get","backgroundColor","color","h","index","row","indexRow","el","value","slice","val","indexCol","width"],"sources":["C:/NCKH/frontend/src/components/Table/Table.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport classNames from 'classnames/bind';\r\n\r\nimport styles from './Table.module.scss';\r\nimport Input from '~/components/Input';\r\nimport Button from '~/components/Button';\r\nimport request from '~/utils/request';\r\n\r\nconst cx = classNames.bind(styles);\r\n\r\nconst Table = ({ rawData, srcData = '' }) => {\r\n    const [data, setData] = useState(rawData.data);\r\n    const [heading] = useState(rawData.heading.data);\r\n\r\n    const AppendData = () => {\r\n        setData((prev) => {\r\n            if (prev.length === 0) return heading.length === 1 ? [['', '']] : [[...heading.map(() => '')]];\r\n            return [...prev, [...prev[0].map(() => '')]];\r\n        });\r\n    };\r\n\r\n    const HandleUpdateData = (x, y, newValue) => {\r\n        setData((prev) => {\r\n            prev[x][y] = newValue;\r\n            return prev;\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            const req = await request.get(srcData);\r\n            setData(req.data['data']);\r\n        };\r\n        if (srcData !== '') fetchData();\r\n    }, []);\r\n\r\n    return (\r\n        <div className={cx('wrapper')}>\r\n            <table className={cx('table')}>\r\n                {heading && (\r\n                    <thead\r\n                        className={cx('table__header')}\r\n                        style={{ backgroundColor: rawData.heading.color || 'inherit' }}\r\n                    >\r\n                        <tr>\r\n                            {heading.map((h, index) => (\r\n                                <th key={index} colSpan={data.length === 0 ? 1 : data[0].length / heading.length}>\r\n                                    {h}\r\n                                </th>\r\n                            ))}\r\n                        </tr>\r\n                    </thead>\r\n                )}\r\n                <tbody className={cx('table__body')}>\r\n                    {data.map((row, indexRow) => (\r\n                        <tr key={indexRow}>\r\n                            <th>\r\n                                <Input\r\n                                    autoSize\r\n                                    className={cx('input')}\r\n                                    defaultValue={row[0]}\r\n                                    onUpdate={(el) => HandleUpdateData(indexRow, 0, el.value)}\r\n                                />\r\n                            </th>\r\n                            {row.slice(1).map((val, indexCol) => (\r\n                                <td key={indexCol}>\r\n                                    <Input\r\n                                        autoSize\r\n                                        min=\"0\"\r\n                                        type=\"number\"\r\n                                        className={cx('input')}\r\n                                        defaultValue={val}\r\n                                        onUpdate={(el) => HandleUpdateData(indexRow, indexCol + 1, el.value)}\r\n                                    />\r\n                                </td>\r\n                            ))}\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n                <tfoot className={cx('table__footer')}>\r\n                    <tr>\r\n                        <td colSpan={data.length === 0 ? heading.length : data[0].length} onClick={AppendData}>\r\n                            <Button noHover style={{ width: '100%' }}>\r\n                                &#8230;\r\n                            </Button>\r\n                        </td>\r\n                    </tr>\r\n                </tfoot>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Table;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}